name: üöÄ MASTER ORCHESTRATOR

on:
  workflow_dispatch:

jobs:
  # --- PHASE 1: START IMMEDIATELY ---
  # Runs s1.yml and s2.yml at the same time
  run-s1:
    uses: ./.github/workflows/s1.yml
    secrets: inherit

  run-s2:
    uses: ./.github/workflows/s2.yml
    secrets: inherit

  # --- PHASE 2: WAIT 5 MINS THEN RUN S3 ---
  wait-for-s3:
    runs-on: ubuntu-latest
    steps:
      - name: ‚è≥ Waiting 5 minutes
        run: sleep 300

  run-s3:
    needs: wait-for-s3
    uses: ./.github/workflows/s3.yml
    secrets: inherit

  # --- PHASE 3: WAIT 10 MINS TOTAL THEN RUN S4 ---
  wait-for-s4:
    runs-on: ubuntu-latest
    steps:
      - name: ‚è≥ Waiting 10 minutes
        run: sleep 600

  run-s4:
    needs: wait-for-s4
    uses: ./.github/workflows/s4.yml
    secrets: inherit
